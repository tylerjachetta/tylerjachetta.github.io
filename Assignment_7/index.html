<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Historical Events of WWII</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script>
	var map;
	var markerData;
	function loadjson() {
		$.getJSON( "markers.json",
				function( returnedData ) {
					// next line copies json data loaded in local var
					// into a global variable that createMap() function can access
					markerData = returnedData;
					createMap();
				}
			 );
	}
	function createMap() {
		console.log(markerData[0].title)
		var mapOptions = {
			zoom: 5,
			center: new google.maps.LatLng(49.108552, 15.459526),
			disableDefaultUI: true
		};
		map = new google.maps.Map(document.getElementById("map-container"), mapOptions);
		var infowindow = new google.maps.InfoWindow();
		for (var counter = 0; counter < markerData.length; counter++ ) 
		{
			var data = markerData[counter];
			var markerPosition = new google.maps.LatLng(data.lat, data.lng);
			var marker = new google.maps.Marker({
    			position: markerPosition,
    			map: map,
    			title: data.title,
    			animation: google.maps.Animation.DROP
  			});
  			(function( marker, data ) {
				google.maps.event.addListener( marker, "click", 
					function() {
						infowindow.setContent( data.description );
						infowindow.open( map, marker );
					}
				);
			}
			)( marker,  data );
		}
	}
	</script>
</head>
<body onload="loadjson();">
       
    <h1>Historical Events of WWII</h1>

	<div id="map-container">
	</div>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

	<!-- Load the Google Maps API library -->
	<script type="text/javascript" src="https://maps.google.com/maps/api/js?libraries=geometry&key=AIzaSyANwuVysbRlA9s-4mgKvkdxL0ODklj-Hhg"></script>
	

</body>
</html>